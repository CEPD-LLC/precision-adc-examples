<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>ADS131A04 Example C Code: hal.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<script type="text/javascript">
function addCSSRule(sheet, selector, rules, index) {
  if("insertRule" in sheet) {
    sheet.insertRule(selector + "{" + rules + "}", index);
  }
  else if("addRule" in sheet) {
    sheet.addRule(selector, rules, index);
  }
}
function addNavrowStyle() {
  // console.log(document.getElementById("navrow3"));
  if(document.getElementById("navrow3")==null)
  {
    var newStyles = 'background: -moz-linear-gradient(top, #fff 0%, #f9f9f9 100%);'
                  + 'background: -webkit-linear-gradient(top, #fff 0%, #f9f9f9 100%);'
                  + 'background: -ms-linear-gradient(top, #fff 0%, #f9f9f9 100%);'
                  + 'border: 1px solid #e0e0e0;'
                  + 'border-top: 0;'
    addCSSRule(document.styleSheets[0], "div#navrow2.tabs2", newStyles);
  }
}
window.onload = addNavrowStyle;
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.svg"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">ADS131A04 Example C Code
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Home</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_633c19a8ddcf344f9768591a99d3e337.html">example code</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">hal.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="hal_8h_source.html">hal.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for hal.c:</div>
<div class="dyncontent">
<div class="center"><img src="hal_8c__incl.png" border="0" usemap="#hal_8c" alt=""/></div>
<map name="hal_8c" id="hal_8c">
<area shape="rect" id="node2" href="hal_8h.html" title="hal.h" alt="" coords="147,80,197,107"/>
<area shape="rect" id="node3" href="ads131a04_8h.html" title="ads131a04.h" alt="" coords="124,162,220,189"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aa084a0a1ae62eb3b730c524bc5d69786"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal_8c.html#aa084a0a1ae62eb3b730c524bc5d69786">SSI_BASE_ADDR</a>&#160;&#160;&#160;(SSI3_BASE)</td></tr>
<tr class="separator:aa084a0a1ae62eb3b730c524bc5d69786"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:afe7a49ab9879bd7044b35eb779f30712"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal_8c.html#afe7a49ab9879bd7044b35eb779f30712">InitGPIO</a> (void)</td></tr>
<tr class="separator:afe7a49ab9879bd7044b35eb779f30712"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23c7094e31707b24fc3094961bd5f189"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal_8c.html#a23c7094e31707b24fc3094961bd5f189">InitSPI</a> (void)</td></tr>
<tr class="separator:a23c7094e31707b24fc3094961bd5f189"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6aee4dc5db1188e28367b5572e9e657b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal_8c.html#a6aee4dc5db1188e28367b5572e9e657b">GPIO_DRDY_IRQHandler</a> (void)</td></tr>
<tr class="separator:a6aee4dc5db1188e28367b5572e9e657b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a67d2f19f508cbcad11cec29864f8e8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal_8c.html#a2a67d2f19f508cbcad11cec29864f8e8">InitADC</a> (void)</td></tr>
<tr class="separator:a2a67d2f19f508cbcad11cec29864f8e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc5028a111121aefb6deb1d19b322e2a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal_8c.html#adc5028a111121aefb6deb1d19b322e2a">delay_ms</a> (const uint32_t delay_time_ms)</td></tr>
<tr class="separator:adc5028a111121aefb6deb1d19b322e2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99dd54c5a2a9038400e78c330876961a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal_8c.html#a99dd54c5a2a9038400e78c330876961a">delay_us</a> (const uint32_t delay_time_us)</td></tr>
<tr class="separator:a99dd54c5a2a9038400e78c330876961a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13b6835c7e9ed2dcd7f14cababef8004"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal_8c.html#a13b6835c7e9ed2dcd7f14cababef8004">setCS</a> (const bool state)</td></tr>
<tr class="separator:a13b6835c7e9ed2dcd7f14cababef8004"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af03a85d6f018c77766120a006004209d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal_8c.html#af03a85d6f018c77766120a006004209d">setRESET</a> (const bool state)</td></tr>
<tr class="separator:af03a85d6f018c77766120a006004209d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6ca614d6a3401c3148a4238ef403ad6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal_8c.html#ab6ca614d6a3401c3148a4238ef403ad6">toggleRESET</a> (void)</td></tr>
<tr class="separator:ab6ca614d6a3401c3148a4238ef403ad6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acccf731ed5e4debaf68d26c5c3290d43"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal_8c.html#acccf731ed5e4debaf68d26c5c3290d43">waitForDRDYinterrupt</a> (const uint32_t timeout_ms)</td></tr>
<tr class="separator:acccf731ed5e4debaf68d26c5c3290d43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeedf09aeb5db930b2af96bf6569c4796"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal_8c.html#aeedf09aeb5db930b2af96bf6569c4796">spiSendReceiveArrays</a> (const uint8_t <a class="el" href="ads131a04_8c.html#a71d3ccae033b00fea6b4872240fa5fc4">dataTx</a>[], uint8_t <a class="el" href="ads131a04_8c.html#a7dd1944b489386b4a933870f5f5bab9e">dataRx</a>[], const uint8_t byteLength)</td></tr>
<tr class="separator:aeedf09aeb5db930b2af96bf6569c4796"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27c2e023582f965ef6c147817bfefea5"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal_8c.html#a27c2e023582f965ef6c147817bfefea5">spiSendReceiveByte</a> (const uint8_t <a class="el" href="ads131a04_8c.html#a71d3ccae033b00fea6b4872240fa5fc4">dataTx</a>)</td></tr>
<tr class="separator:a27c2e023582f965ef6c147817bfefea5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a341c22106755e45509b6fbedfc7120c3"><td class="memItemLeft" align="right" valign="top">static volatile bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hal_8c.html#a341c22106755e45509b6fbedfc7120c3">flag_nDRDY_INTERRUPT</a> = false</td></tr>
<tr class="separator:a341c22106755e45509b6fbedfc7120c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="aa084a0a1ae62eb3b730c524bc5d69786"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SSI_BASE_ADDR&#160;&#160;&#160;(SSI3_BASE)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="adc5028a111121aefb6deb1d19b322e2a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void delay_ms </td>
          <td>(</td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>delay_time_ms</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Provides a timing delay with 'ms' resolution.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">delay_time_ms</td><td>number of milliseconds to delay.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="a99dd54c5a2a9038400e78c330876961a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void delay_us </td>
          <td>(</td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>delay_time_us</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Provides a timing delay with 'us' resolution.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">delay_time_us</td><td>number of microseconds to delay.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="a6aee4dc5db1188e28367b5572e9e657b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GPIO_DRDY_IRQHandler </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Interrupt handler for nDRDY falling edge interrupt.</p>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="a2a67d2f19f508cbcad11cec29864f8e8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InitADC </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes MCU peripherals for interfacing with the ADC.</p>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="hal_8c_a2a67d2f19f508cbcad11cec29864f8e8_cgraph.png" border="0" usemap="#hal_8c_a2a67d2f19f508cbcad11cec29864f8e8_cgraph" alt=""/></div>
<map name="hal_8c_a2a67d2f19f508cbcad11cec29864f8e8_cgraph" id="hal_8c_a2a67d2f19f508cbcad11cec29864f8e8_cgraph">
<area shape="rect" id="node2" href="hal_8c.html#afe7a49ab9879bd7044b35eb779f30712" title="InitGPIO" alt="" coords="127,31,198,57"/>
<area shape="rect" id="node4" href="hal_8c.html#a23c7094e31707b24fc3094961bd5f189" title="InitSPI" alt="" coords="133,107,193,133"/>
<area shape="rect" id="node5" href="ads131a04_8c.html#a54b2058be64bee68c87b0103dc5897bc" title="adcStartup" alt="" coords="120,208,205,235"/>
<area shape="rect" id="node3" href="hal_8c.html#a6aee4dc5db1188e28367b5572e9e657b" title="GPIO_DRDY_IRQHandler" alt="" coords="253,5,424,32"/>
<area shape="rect" id="node6" href="hal_8c.html#adc5028a111121aefb6deb1d19b322e2a" title="delay_ms" alt="" coords="299,208,378,235"/>
<area shape="rect" id="node7" href="hal_8c.html#af03a85d6f018c77766120a006004209d" title="setRESET" alt="" coords="297,259,380,285"/>
<area shape="rect" id="node8" href="ads131a04_8c.html#ac4f76ae3a80f28d1aada3028b97d7f0f" title="restoreRegisterDefaults" alt="" coords="672,385,829,412"/>
<area shape="rect" id="node9" href="ads131a04_8c.html#a088f83118b69d2d7d3b91c8d1ac96b83" title="sendCommand" alt="" coords="493,309,603,336"/>
<area shape="rect" id="node12" href="ads131a04_8c.html#ac55df9c89809c0ad303815d61335ed20" title="unlockRegisters" alt="" coords="281,107,396,133"/>
<area shape="rect" id="node14" href="ads131a04_8c.html#a97cc958d76d9222d6bbffb8695bea961" title="writeSingleRegister" alt="" coords="272,309,405,336"/>
<area shape="rect" id="node15" href="hal_8c.html#acccf731ed5e4debaf68d26c5c3290d43" title="waitForDRDYinterrupt" alt="" coords="265,157,412,184"/>
<area shape="rect" id="node16" href="ads131a04_8c.html#a8fddc29e62dc612c42fcc17aa98170ae" title="readData" alt="" coords="511,208,585,235"/>
<area shape="rect" id="node10" href="hal_8c.html#a13b6835c7e9ed2dcd7f14cababef8004" title="setCS" alt="" coords="721,309,780,336"/>
<area shape="rect" id="node11" href="hal_8c.html#a27c2e023582f965ef6c147817bfefea5" title="spiSendReceiveByte" alt="" coords="680,259,821,285"/>
<area shape="rect" id="node13" href="hal_8c.html#aeedf09aeb5db930b2af96bf6569c4796" title="spiSendReceiveArrays" alt="" coords="472,259,624,285"/>
<area shape="rect" id="node17" href="ads131a04_8c.html#ac6c9f43c15b9f5590ab57971a0e91cb7" title="signExtend" alt="" coords="707,208,794,235"/>
<area shape="rect" id="node18" href="ads131a04_8c.html#aa3da137cfd0b2c940b7280adf1dac3c6" title="calculateCRC" alt="" coords="700,157,801,184"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="afe7a49ab9879bd7044b35eb779f30712"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InitGPIO </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Configures the MCU's GPIO pins that interface with the ADC.</p>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="hal_8c_afe7a49ab9879bd7044b35eb779f30712_cgraph.png" border="0" usemap="#hal_8c_afe7a49ab9879bd7044b35eb779f30712_cgraph" alt=""/></div>
<map name="hal_8c_afe7a49ab9879bd7044b35eb779f30712_cgraph" id="hal_8c_afe7a49ab9879bd7044b35eb779f30712_cgraph">
<area shape="rect" id="node2" href="hal_8c.html#a6aee4dc5db1188e28367b5572e9e657b" title="GPIO_DRDY_IRQHandler" alt="" coords="124,5,295,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a23c7094e31707b24fc3094961bd5f189"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InitSPI </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Configures the MCU's SPI peripheral, for interfacing with the ADC.</p>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="a13b6835c7e9ed2dcd7f14cababef8004"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setCS </td>
          <td>(</td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Controls the state of the nCS GPIO pin.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>boolean indicating which state to set the nCS pin (0=low, 1=high)</td></tr>
  </table>
  </dd>
</dl>
<p>NOTE: The 'HIGH' and 'LOW' macros defined in <a class="el" href="hal_8h.html">hal.h</a> can be passed to this function for the 'state' parameter value.</p>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="af03a85d6f018c77766120a006004209d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setRESET </td>
          <td>(</td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Controls the state of the nRESET GPIO pin.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>boolean indicating which state to set the nRESET pin (0=low, 1=high)</td></tr>
  </table>
  </dd>
</dl>
<p>NOTE: The 'HIGH' and 'LOW' macros defined in <a class="el" href="hal_8h.html">hal.h</a> can be passed to this function for the 'state' parameter value.</p>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="aeedf09aeb5db930b2af96bf6569c4796"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spiSendReceiveArrays </td>
          <td>(</td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>dataTx</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>dataRx</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>byteLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sends SPI byte array on MOSI pin and captures MISO data to a byte array.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dataTx</td><td>byte array of SPI data to send on MOSI.</td></tr>
    <tr><td class="paramname">dataRx</td><td>byte array of SPI data captured on MISO.</td></tr>
    <tr><td class="paramname">byteLength</td><td>number of bytes to send &amp; receive.</td></tr>
  </table>
  </dd>
</dl>
<p>NOTE: Make sure 'dataTx[]' and 'dataRx[]' contain at least as many bytes of data, as indicated by 'byteLength'.</p>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="hal_8c_aeedf09aeb5db930b2af96bf6569c4796_cgraph.png" border="0" usemap="#hal_8c_aeedf09aeb5db930b2af96bf6569c4796_cgraph" alt=""/></div>
<map name="hal_8c_aeedf09aeb5db930b2af96bf6569c4796_cgraph" id="hal_8c_aeedf09aeb5db930b2af96bf6569c4796_cgraph">
<area shape="rect" id="node2" href="hal_8c.html#a13b6835c7e9ed2dcd7f14cababef8004" title="setCS" alt="" coords="247,5,305,32"/>
<area shape="rect" id="node3" href="hal_8c.html#a27c2e023582f965ef6c147817bfefea5" title="spiSendReceiveByte" alt="" coords="205,56,347,83"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a27c2e023582f965ef6c147817bfefea5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t spiSendReceiveByte </td>
          <td>(</td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>dataTx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sends SPI byte on MOSI pin and captures MISO return byte value.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dataTx</td><td>data byte to send on MOSI pin.</td></tr>
  </table>
  </dd>
</dl>
<p>NOTE: This function is called by <a class="el" href="hal_8c.html#aeedf09aeb5db930b2af96bf6569c4796">spiSendReceiveArrays()</a>. If it is called directly, then the nCS pin must also be directly controlled.</p>
<dl class="section return"><dt>Returns</dt><dd>Captured MISO response byte. </dd></dl>

</div>
</div>
<a class="anchor" id="ab6ca614d6a3401c3148a4238ef403ad6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void toggleRESET </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Toggles the nRESET pin to trigger a reset (LOW, delay 2 ms, then HIGH).</p>
<p>NOTE: The <a class="el" href="ads131a04_8c.html#a54b2058be64bee68c87b0103dc5897bc">adcStartup()</a> function should be called after resetting the device.</p>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="hal_8c_ab6ca614d6a3401c3148a4238ef403ad6_cgraph.png" border="0" usemap="#hal_8c_ab6ca614d6a3401c3148a4238ef403ad6_cgraph" alt=""/></div>
<map name="hal_8c_ab6ca614d6a3401c3148a4238ef403ad6_cgraph" id="hal_8c_ab6ca614d6a3401c3148a4238ef403ad6_cgraph">
<area shape="rect" id="node2" href="hal_8c.html#adc5028a111121aefb6deb1d19b322e2a" title="delay_ms" alt="" coords="193,5,271,32"/>
<area shape="rect" id="node3" href="hal_8c.html#a99dd54c5a2a9038400e78c330876961a" title="delay_us" alt="" coords="195,56,269,83"/>
<area shape="rect" id="node4" href="ads131a04_8c.html#ac4f76ae3a80f28d1aada3028b97d7f0f" title="restoreRegisterDefaults" alt="" coords="153,107,311,133"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="acccf731ed5e4debaf68d26c5c3290d43"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool waitForDRDYinterrupt </td>
          <td>(</td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>timeout_ms</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Waits for the nDRDY interrupt or until the specified timeout occurs.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timeout_ms</td><td>number of milliseconds to wait before timeout event.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 'true' if nDRDY interrupt occurred before the timeout. </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a341c22106755e45509b6fbedfc7120c3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile bool flag_nDRDY_INTERRUPT = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (C) 2020 Texas Instruments Incorporated - <a href="http://www.ti.com/">http://www.ti.com/</a></dd></dl>
<p>Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</p>
<p>Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</p>
<p>Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</p>
<p>Neither the name of Texas Instruments Incorporated nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</p>
<p>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. </p>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer">
Generated by&#160;<a href="http://www.doxygen.org/index.html">
doxygen
</a> 1.8.11
</address>
</body>
</html>
